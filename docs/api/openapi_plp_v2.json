{
  "openapi": "3.1.0",
  "info": {
    "title": "SHIOL+ Powerball Prediction API",
    "description": "Provides ML-based Powerball number predictions.",
    "version": "6.0.0"
  },
  "paths": {
    "/health": {
      "get": {
        "summary": "Health",
        "description": "Simple health check",
        "operationId": "health_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/system/info": {
      "get": {
        "summary": "Get System Info",
        "description": "Get system information",
        "operationId": "get_system_info_api_v1_system_info_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/health": {
      "get": {
        "summary": "Health Check",
        "description": "Health check endpoint with timestamp",
        "operationId": "health_check_api_v1_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/scheduler/health": {
      "get": {
        "summary": "Get Scheduler Health",
        "description": "Scheduler health check endpoint for monitoring.\nReturns scheduler status and list of active jobs.",
        "operationId": "get_scheduler_health_api_v1_scheduler_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/system/stats": {
      "get": {
        "summary": "Get System Stats",
        "description": "Get comprehensive system statistics for status dashboard.\nReturns database stats, pipeline metrics, and system health.",
        "operationId": "get_system_stats_api_v1_system_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/system/overview": {
      "get": {
        "summary": "Get System Overview",
        "description": "Returns Git deployment info and real-time system resource metrics.",
        "operationId": "get_system_overview_api_v1_system_overview_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/register": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Register User",
        "description": "Register a new user account.",
        "operationId": "register_user_api_v1_auth_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/register-and-upgrade": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Register And Upgrade",
        "description": "Register a new user and immediately create Stripe checkout session for premium upgrade.\nThis simplifies the UX by combining registration + payment in one flow.",
        "operationId": "register_and_upgrade_api_v1_auth_register_and_upgrade_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterAndUpgradeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Login User",
        "description": "Authenticate user and create session.",
        "operationId": "login_user_api_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Logout User",
        "description": "Logout user by clearing session.",
        "operationId": "logout_user_api_v1_auth_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Get Current User Info",
        "description": "Get current authenticated user information.",
        "operationId": "get_current_user_info_api_v1_auth_me_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/check": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Check Auth Status",
        "description": "Check if user is authenticated (for frontend).",
        "operationId": "check_auth_status_api_v1_auth_check_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/status": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Get Auth Status",
        "description": "Get authentication status in format expected by AuthManager frontend.",
        "operationId": "get_auth_status_api_v1_auth_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/upgrade-premium": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Upgrade To Premium",
        "description": "Upgrade current user to premium access (demo - in production integrate with payment).",
        "operationId": "upgrade_to_premium_api_v1_auth_upgrade_premium_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/stats": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Get Platform Stats",
        "description": "Get public platform statistics.",
        "operationId": "get_platform_stats_api_v1_auth_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/user/password": {
      "put": {
        "tags": [
          "authentication"
        ],
        "summary": "Change Password",
        "description": "Change user password.",
        "operationId": "change_password_api_v1_auth_user_password_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/user/email": {
      "put": {
        "tags": [
          "authentication"
        ],
        "summary": "Update Email",
        "description": "Update user email address.",
        "operationId": "update_email_api_v1_auth_user_email_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEmailRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/user/account": {
      "delete": {
        "tags": [
          "authentication"
        ],
        "summary": "Delete Account",
        "description": "Delete user account permanently.",
        "operationId": "delete_account_api_v1_auth_user_account_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeleteAccountRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/billing/create-checkout-session": {
      "post": {
        "tags": [
          "billing"
        ],
        "summary": "Create Checkout Session",
        "description": "Create Stripe Checkout session for annual premium subscription.\nRequires Idempotency-Key header for safe retries.",
        "operationId": "create_checkout_session_api_v1_billing_create_checkout_session_post",
        "parameters": [
          {
            "name": "Idempotency-Key",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Idempotency-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCheckoutSessionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/billing/webhook": {
      "post": {
        "tags": [
          "billing"
        ],
        "summary": "Stripe Webhook",
        "description": "Handle Stripe webhook events with idempotent processing.\nValidates webhook signature and processes events safely.\n\nNOTE: Response object cannot set cookies reliably in webhook context.\nPremium Pass cookies are set via session verification in /activate-premium endpoint.",
        "operationId": "stripe_webhook_api_v1_billing_webhook_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/billing/status": {
      "get": {
        "tags": [
          "billing"
        ],
        "summary": "Get Billing Status",
        "description": "Get billing system status and user premium status.\nReturns billing enabled state and premium status if authenticated.\n\nArgs:\n    session_id: Optional Stripe checkout session ID to check status",
        "operationId": "get_billing_status_api_v1_billing_status_get",
        "parameters": [
          {
            "name": "session_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BillingStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/billing/activate-premium": {
      "post": {
        "tags": [
          "billing"
        ],
        "summary": "Activate Premium",
        "description": "Activate premium pass and set cookie after successful payment.\nThis endpoint verifies payment with Stripe before activating Premium access.\n\nArgs:\n    session_id: Stripe checkout session ID (required)\n    \nReturns:\n    Success response with premium pass details\n    \nRaises:\n    HTTPException: If payment not verified or activation fails",
        "operationId": "activate_premium_api_v1_billing_activate_premium_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/billing/activate-via-redirect": {
      "get": {
        "tags": [
          "billing"
        ],
        "summary": "Activate Premium Via Redirect",
        "description": "Robust activation endpoint for use as Stripe success_url.\nVerifies the payment session, creates Premium Pass if needed, sets cookie, and redirects to a success page.\n\nQuery params:\n    session_id: Stripe Checkout session ID appended by Stripe to success_url\n    next: Optional relative URL to redirect after setting the cookie (default: /payment-success.html?activated=1)",
        "operationId": "activate_premium_via_redirect_api_v1_billing_activate_via_redirect_get",
        "parameters": [
          {
            "name": "session_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "next",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "/payment-success.html?activated=1",
              "title": "Next"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/users": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "List all users",
        "description": "Returns a list of all users with basic info. Admin only.\n- id: User ID\n- username: Username\n- email: Email\n- is_admin: Admin status\n- premium_until: Premium expiration\n- created_at: Account creation date",
        "operationId": "list_users_api_v1_admin_users_get",
        "responses": {
          "200": {
            "description": "List of users",
            "content": {
              "application/json": {
                "schema": {
                  "items": {},
                  "type": "array",
                  "title": "Response List Users Api V1 Admin Users Get"
                }
              }
            }
          },
          "403": {
            "description": "Admin required"
          }
        }
      }
    },
    "/api/v1/admin/users/{user_id}/reset-password": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Reset user password",
        "description": "Resets the password for a user and returns a temporary password. Admin only.\nLogs the action for audit.",
        "operationId": "reset_user_password_api_v1_admin_users__user_id__reset_password_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Password reset successful",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Password reset failed"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/users/{user_id}": {
      "delete": {
        "tags": [
          "admin"
        ],
        "summary": "Delete user account",
        "description": "Deletes a user account. Admin only. Prevents self-deletion.\nLogs the action for audit.",
        "operationId": "delete_user_api_v1_admin_users__user_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User deleted",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "Admin cannot delete own account"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "User deletion failed"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/users/{user_id}/premium": {
      "put": {
        "tags": [
          "admin"
        ],
        "summary": "Toggle user premium status",
        "description": "Toggles premium status for a user. If not premium, assigns 30 days; if premium, removes. Admin only.\nLogs the action for audit.",
        "operationId": "toggle_premium_api_v1_admin_users__user_id__premium_put",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Premium status toggled",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "User not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/pipeline/execution-logs": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get pipeline execution logs",
        "description": "Returns pipeline execution logs with optional filters. Admin only.\n\nQuery parameters:\n- limit: Maximum number of logs to return (default: 20, max: 100)\n- status: Filter by status ('running', 'completed', 'failed', 'timeout')\n- start_date: Filter logs after this date (YYYY-MM-DD)\n- end_date: Filter logs before this date (YYYY-MM-DD)\n\nReturns:\n- logs: Array of execution records sorted by start_time DESC\n- statistics: Summary statistics (total runs, success rate, avg duration, etc.)",
        "operationId": "get_pipeline_logs_api_v1_admin_pipeline_execution_logs_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Status"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "End Date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pipeline execution logs with statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Pipeline Logs Api V1 Admin Pipeline Execution Logs Get"
                }
              }
            }
          },
          "403": {
            "description": "Admin required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/pipeline/trigger": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Trigger full pipeline run",
        "description": "Triggers the full pipeline execution. Admin only.\n\nParams:\n- async_run: If True (default), returns immediately after scheduling the run.\n             If False, waits for the pipeline to finish and returns the result.",
        "operationId": "trigger_pipeline_api_v1_admin_pipeline_trigger_post",
        "parameters": [
          {
            "name": "async_run",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Async Run"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pipeline started",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "Admin required"
          },
          "500": {
            "description": "Failed to start pipeline"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/predictions/predictions/by-draw/{draw_date}": {
      "get": {
        "summary": "Get predictions for a specific draw date",
        "description": "Retrieves predictions for a given draw date, optionally filtered by minimum matched numbers.",
        "operationId": "get_predictions_by_draw_api_v1_predictions_predictions_by_draw__draw_date__get",
        "parameters": [
          {
            "name": "draw_date",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Draw Date"
            }
          },
          {
            "name": "min_matches",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Minimum number of matches to include",
              "default": 0,
              "title": "Min Matches"
            },
            "description": "Minimum number of matches to include"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Maximum number of predictions to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of predictions to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PredictionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/predictions/all/{draw_date}": {
      "get": {
        "summary": "Get all predictions for a specific draw date",
        "description": "Retrieves all predictions for a given draw date, regardless of matches.",
        "operationId": "get_all_predictions_api_v1_predictions_all__draw_date__get",
        "parameters": [
          {
            "name": "draw_date",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Draw Date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Prediction"
                  },
                  "title": "Response Get All Predictions Api V1 Predictions All  Draw Date  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/predictions/detailed/{draw_date}": {
      "get": {
        "summary": "Get comprehensive predictions analysis for a specific draw date (authenticated)",
        "description": "Retrieves detailed predictions analysis for a given draw date with full details. Requires authentication.",
        "operationId": "get_detailed_predictions_by_draw_api_v1_predictions_detailed__draw_date__get",
        "parameters": [
          {
            "name": "draw_date",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Draw Date"
            }
          },
          {
            "name": "min_matches",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 6,
              "minimum": 0,
              "default": 0,
              "title": "Min Matches"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PredictionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/predictions/by-draw/{draw_date}": {
      "get": {
        "summary": "Get Predictions By Draw Date",
        "description": "Get predictions for a specific draw date with match analysis",
        "operationId": "get_predictions_by_draw_date_api_v1_predictions_by_draw__draw_date__get",
        "parameters": [
          {
            "name": "draw_date",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Draw Date"
            }
          },
          {
            "name": "min_matches",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Minimum number of matches required",
              "default": 0,
              "title": "Min Matches"
            },
            "description": "Minimum number of matches required"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "description": "Maximum number of predictions to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Maximum number of predictions to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/predictions/public/by-draw/{draw_date}": {
      "get": {
        "summary": "Get Public Predictions By Draw Date",
        "description": "Public endpoint for getting predictions by draw date (frontend access)",
        "operationId": "get_public_predictions_by_draw_date_api_v1_predictions_public_by_draw__draw_date__get",
        "parameters": [
          {
            "name": "draw_date",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Draw Date"
            }
          },
          {
            "name": "min_matches",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Minimum number of matches required",
              "default": 0,
              "title": "Min Matches"
            },
            "description": "Minimum number of matches required"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "description": "Maximum number of predictions to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of predictions to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/predictions/public/predictions-only/{draw_date}": {
      "get": {
        "summary": "Get Predictions Only By Date",
        "description": "Get predictions for a specific date without requiring official draw results",
        "operationId": "get_predictions_only_by_date_api_v1_predictions_public_predictions_only__draw_date__get",
        "parameters": [
          {
            "name": "draw_date",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Draw Date"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "description": "Maximum number of predictions to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of predictions to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/predictions/generate-multi-strategy": {
      "post": {
        "summary": "Generate Tickets Multi Strategy",
        "description": "Generate tickets using the multi-strategy system with adaptive weights.\n\nArgs:\n    count: Number of tickets to generate (1-100, default 5)\n\nReturns:\n    Dict with tickets, metadata, and strategy distribution",
        "operationId": "generate_tickets_multi_strategy_api_v1_predictions_generate_multi_strategy_post",
        "parameters": [
          {
            "name": "count",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 5,
              "title": "Count"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Generate Tickets Multi Strategy Api V1 Predictions Generate Multi Strategy Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/predictions/strategy-performance": {
      "get": {
        "summary": "Get Strategy Performance",
        "description": "Get performance metrics for all strategies.\n\nReturns:\n    Dict with performance data for each strategy",
        "operationId": "get_strategy_performance_api_v1_predictions_strategy_performance_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Strategy Performance Api V1 Predictions Strategy Performance Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/draws/latest": {
      "get": {
        "summary": "Get the latest Powerball draw information",
        "description": "Retrieves the most recent Powerball draw date, winning numbers, and prize amount.",
        "operationId": "get_latest_draw_api_v1_draws_latest_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DrawInfo"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/draws/recent": {
      "get": {
        "summary": "Get recent Powerball draws",
        "description": "Retrieves a list of the most recent Powerball draws.",
        "operationId": "get_recent_draws_api_v1_draws_recent_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 10,
              "minimum": 1,
              "description": "Number of recent draws to retrieve.",
              "default": 5,
              "title": "Limit"
            },
            "description": "Number of recent draws to retrieve."
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RecentDrawsResponse"
                  },
                  "title": "Response Get Recent Draws Api V1 Draws Recent Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ticket/limits-check": {
      "post": {
        "tags": [
          "ticket"
        ],
        "summary": "Check Verification Limits",
        "description": "Check verification limits for current user/device.\n\nArgs:\n    request: FastAPI request object\n    body: Optional device fingerprint data for guest users\n    \nReturns:\n    Limits information including remaining verifications and reset time",
        "operationId": "check_verification_limits_api_v1_ticket_limits_check_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LimitsCheckRequest",
                "default": {}
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ticket/verify": {
      "post": {
        "tags": [
          "ticket"
        ],
        "summary": "Verify Ticket Image",
        "description": "Verify a Powerball ticket by processing an uploaded image.\n\nArgs:\n    request: FastAPI request object\n    file: Uploaded image file (JPG, PNG, etc.)\n    manual_date: Optional manual date override\n    \nReturns:\n    JSON response with verification results",
        "operationId": "verify_ticket_image_api_v1_ticket_verify_post",
        "parameters": [
          {
            "name": "manual_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Manual Date"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_verify_ticket_image_api_v1_ticket_verify_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ticket/preview": {
      "post": {
        "tags": [
          "ticket"
        ],
        "summary": "Preview Ticket Numbers",
        "description": "Preview numbers detected from ticket image (no limits applied).\nShows what OCR detected without consuming verification quotas.\n\nArgs:\n    request: FastAPI request object\n    file: Uploaded ticket image file\n    \nReturns:\n    Detected numbers and metadata",
        "operationId": "preview_ticket_numbers_api_v1_ticket_preview_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_preview_ticket_numbers_api_v1_ticket_preview_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ticket/health": {
      "get": {
        "tags": [
          "ticket"
        ],
        "summary": "Ticket Service Health",
        "description": "Health check endpoint for ticket verification service.\n\nReturns:\n    Service health status",
        "operationId": "ticket_service_health_api_v1_ticket_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/ticket/debug/extract": {
      "post": {
        "tags": [
          "ticket"
        ],
        "summary": "Debug Extract Ticket Data",
        "description": "Debug endpoint to see raw extraction results without verification.\n\nArgs:\n    file: Uploaded image file\n    \nReturns:\n    Raw extraction results for debugging",
        "operationId": "debug_extract_ticket_data_api_v1_ticket_debug_extract_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_debug_extract_ticket_data_api_v1_ticket_debug_extract_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ticket/verify-manual": {
      "post": {
        "tags": [
          "ticket"
        ],
        "summary": "Verify Manual Plays",
        "description": "Verify manually entered lottery numbers against official results.\n\nArgs:\n    fastapi_request: FastAPI request object\n    request: Manual verification request with plays and draw date\n    \nReturns:\n    JSON response with verification results",
        "operationId": "verify_manual_plays_api_v1_ticket_verify_manual_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Serve Index",
        "description": "Serve the main public index page",
        "operationId": "serve_index__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/public": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Serve Public",
        "description": "Serve the public static page",
        "operationId": "serve_public_public_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/public/predictions/by-draw/{draw_date}": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Public Predictions By Draw",
        "description": "Get predictions for a specific draw date (public endpoint)",
        "operationId": "get_public_predictions_by_draw_api_v1_public_predictions_by_draw__draw_date__get",
        "parameters": [
          {
            "name": "draw_date",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Draw Date"
            }
          },
          {
            "name": "min_matches",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Minimum number of matches to include",
              "default": 0,
              "title": "Min Matches"
            },
            "description": "Minimum number of matches to include"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Maximum number of predictions to return",
              "default": 200,
              "title": "Limit"
            },
            "description": "Maximum number of predictions to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/public/predictions/smart": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Public Smart Predictions",
        "description": "DISABLED: Public smart prediction generation is no longer supported.\nUse database queries for existing pipeline predictions only.",
        "operationId": "get_public_smart_predictions_api_v1_public_predictions_smart_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/public/recent-draws": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Public Recent Draws",
        "description": "Get recent powerball draws for public access - optimized version",
        "operationId": "get_public_recent_draws_api_v1_public_recent_draws_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 20,
              "default": 6,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/public/history/grouped": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Public Grouped History",
        "description": "Get grouped prediction history for public access",
        "operationId": "get_public_grouped_history_api_v1_public_history_grouped_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/public/predictions/latest": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Public Latest Predictions",
        "description": "Get latest AI predictions for public access",
        "operationId": "get_public_latest_predictions_api_v1_public_predictions_latest_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 800,
              "default": 200,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/public/draws/recent": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Public Draws Recent Alias",
        "description": "Alias endpoint for draws/recent to match frontend expectations",
        "operationId": "get_public_draws_recent_alias_api_v1_public_draws_recent_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "default": 12,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/public/next-drawing": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Public Next Drawing",
        "description": "Get next drawing date and time for public access",
        "operationId": "get_public_next_drawing_api_v1_public_next_drawing_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/public/jackpot": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Public Jackpot",
        "description": "Get current Powerball jackpot with cash value from MUSL API",
        "operationId": "get_public_jackpot_api_v1_public_jackpot_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/public/winners-stats": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Winners Stats",
        "description": "Calculate total prizes won by Shiol+ users by recomputing from official results.\n\nWe recompute prizes from generated_tickets using powerball_draws as the source of truth,\ninstead of relying on the stored prize_won column (which may be unset for some draws).",
        "operationId": "get_winners_stats_api_v1_public_winners_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/public/stats": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Public Stats",
        "description": "Get SHIOL+ system stats: total matches found and estimated prizes",
        "operationId": "get_public_stats_api_v1_public_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/public/register-visit": {
      "post": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Register Unique Visit",
        "description": "Register unique visit per device",
        "operationId": "register_unique_visit_api_v1_public_register_visit_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/public/register-pwa-install": {
      "post": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Register Pwa Install",
        "description": "Register PWA installation",
        "operationId": "register_pwa_install_api_v1_public_register_pwa_install_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/public/counters": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Counters",
        "description": "Get visit and PWA install counters",
        "operationId": "get_counters_api_v1_public_counters_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/public/analytics/draw/{draw_date}": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Public Draw Analytics",
        "description": "Return draw-level analytics powered by generated_tickets.",
        "operationId": "get_public_draw_analytics_api_v1_public_analytics_draw__draw_date__get",
        "parameters": [
          {
            "name": "draw_date",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Draw Date"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/public/analytics/summary": {
      "get": {
        "tags": [
          "public_frontend"
        ],
        "summary": "Get Public Analytics Summary",
        "description": "Return site-wide analytics summary for dashboard.",
        "operationId": "get_public_analytics_summary_api_v1_public_analytics_summary_get",
        "parameters": [
          {
            "name": "days_back",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 30,
              "title": "Days Back"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/favicon.ico": {
      "get": {
        "summary": "Favicon Route",
        "operationId": "favicon_route_favicon_ico_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/prediction-history-grouped": {
      "get": {
        "summary": "Get Prediction History Grouped",
        "description": "Get grouped prediction history by date",
        "operationId": "get_prediction_history_grouped_api_v1_prediction_history_grouped_get",
        "parameters": [
          {
            "name": "limit_dates",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 25,
              "title": "Limit Dates"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/debug/routes": {
      "get": {
        "summary": "Debug Routes",
        "description": "Debug endpoint to show all available routes",
        "operationId": "debug_routes_api_v1_debug_routes_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/status": {
      "get": {
        "summary": "Status Dashboard Page",
        "description": "Serve system status dashboard page (Admin access required)",
        "operationId": "status_dashboard_page_status_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/payment-success": {
      "get": {
        "summary": "Payment Success Page",
        "description": "Serve payment success page specifically",
        "operationId": "payment_success_page_payment_success_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/privacy": {
      "get": {
        "summary": "Privacy Page",
        "description": "Serve privacy policy page",
        "operationId": "privacy_page_privacy_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/terms": {
      "get": {
        "summary": "Terms Page",
        "description": "Serve terms of service page",
        "operationId": "terms_page_terms_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/cookies": {
      "get": {
        "summary": "Cookies Page",
        "description": "Serve cookie policy page",
        "operationId": "cookies_page_cookies_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/api/v2/health": {
      "get": {
        "tags": [
          "plp_v2"
        ],
        "summary": "Plp Health",
        "description": "Lightweight health check for PLP v2. Useful for auth and rate limit testing.\n\nReturns minimal status payload; headers include X-RateLimit-* from dependency.",
        "operationId": "plp_health_api_v2_health_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Plp Health Api V2 Health Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/public/predictions-only/{draw_date}": {
      "get": {
        "tags": [
          "plp_v2"
        ],
        "summary": "Plp Predictions Only",
        "description": "Return predictions for a date without requiring official results (PLP v2 shape).",
        "operationId": "plp_predictions_only_api_v2_public_predictions_only__draw_date__get",
        "parameters": [
          {
            "name": "draw_date",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Target draw date in YYYY-MM-DD",
              "title": "Draw Date"
            },
            "description": "Target draw date in YYYY-MM-DD"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Plp Predictions Only Api V2 Public Predictions Only  Draw Date  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/public/by-draw/{draw_date}": {
      "get": {
        "tags": [
          "plp_v2"
        ],
        "summary": "Plp By Draw Grouped",
        "description": "Return predictions grouped by strategy for a given draw date (PLP v2 shape).",
        "operationId": "plp_by_draw_grouped_api_v2_public_by_draw__draw_date__get",
        "parameters": [
          {
            "name": "draw_date",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Target draw date in YYYY-MM-DD",
              "title": "Draw Date"
            },
            "description": "Target draw date in YYYY-MM-DD"
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Plp By Draw Grouped Api V2 Public By Draw  Draw Date  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/generate-multi-strategy": {
      "post": {
        "tags": [
          "plp_v2"
        ],
        "summary": "Plp Generate Multi Strategy",
        "description": "Generate tickets using the project's pipeline strategies (StrategyManager).\n\n- If `strategies` is omitted: use adaptive weights across all strategies.\n- If `strategies` is provided: distribute tickets evenly among that subset.\n- If `persist` is true: save to DB (requires valid draw_date or will use next drawing date).",
        "operationId": "plp_generate_multi_strategy_api_v2_generate_multi_strategy_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Plp Generate Multi Strategy Api V2 Generate Multi Strategy Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/ticket/preview": {
      "post": {
        "tags": [
          "plp_v2"
        ],
        "summary": "Plp Ticket Preview",
        "description": "Extract ticket plays from an image without verification (PLP v2 shape).",
        "operationId": "plp_ticket_preview_api_v2_ticket_preview_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_plp_ticket_preview_api_v2_ticket_preview_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Plp Ticket Preview Api V2 Ticket Preview Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/ticket/verify": {
      "post": {
        "tags": [
          "plp_v2"
        ],
        "summary": "Plp Ticket Verify",
        "description": "Verify a ticket image against official results (PLP v2 shape).",
        "operationId": "plp_ticket_verify_api_v2_ticket_verify_post",
        "parameters": [
          {
            "name": "draw_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Draw Date"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_plp_ticket_verify_api_v2_ticket_verify_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Plp Ticket Verify Api V2 Ticket Verify Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/ticket/verify-manual": {
      "post": {
        "tags": [
          "plp_v2"
        ],
        "summary": "Plp Ticket Verify Manual",
        "description": "Verify manually provided plays against official results (PLP v2 shape).",
        "operationId": "plp_ticket_verify_manual_api_v2_ticket_verify_manual_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlpManualVerifyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Plp Ticket Verify Manual Api V2 Ticket Verify Manual Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AuthResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "user": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "access_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Access Token"
          },
          "is_premium": {
            "type": "boolean",
            "title": "Is Premium",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "AuthResponse"
      },
      "BillingStatusResponse": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "is_premium": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Premium"
          },
          "source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "enabled"
        ],
        "title": "BillingStatusResponse"
      },
      "Body_debug_extract_ticket_data_api_v1_ticket_debug_extract_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_debug_extract_ticket_data_api_v1_ticket_debug_extract_post"
      },
      "Body_plp_ticket_preview_api_v2_ticket_preview_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_plp_ticket_preview_api_v2_ticket_preview_post"
      },
      "Body_plp_ticket_verify_api_v2_ticket_verify_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_plp_ticket_verify_api_v2_ticket_verify_post"
      },
      "Body_preview_ticket_numbers_api_v1_ticket_preview_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_preview_ticket_numbers_api_v1_ticket_preview_post"
      },
      "Body_verify_ticket_image_api_v1_ticket_verify_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_verify_ticket_image_api_v1_ticket_verify_post"
      },
      "ChangePasswordRequest": {
        "properties": {
          "current_password": {
            "type": "string",
            "title": "Current Password",
            "description": "Current password"
          },
          "new_password": {
            "type": "string",
            "minLength": 8,
            "title": "New Password",
            "description": "New password (minimum 8 characters)"
          }
        },
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "title": "ChangePasswordRequest"
      },
      "CreateCheckoutSessionRequest": {
        "properties": {
          "success_url": {
            "type": "string",
            "title": "Success Url",
            "description": "URL to redirect after successful payment"
          },
          "cancel_url": {
            "type": "string",
            "title": "Cancel Url",
            "description": "URL to redirect if payment cancelled"
          }
        },
        "type": "object",
        "required": [
          "success_url",
          "cancel_url"
        ],
        "title": "CreateCheckoutSessionRequest",
        "example": {
          "cancel_url": "https://shiol.app/",
          "success_url": "https://shiol.app/payment-success"
        }
      },
      "DeleteAccountRequest": {
        "properties": {
          "password": {
            "type": "string",
            "title": "Password",
            "description": "Password confirmation"
          }
        },
        "type": "object",
        "required": [
          "password"
        ],
        "title": "DeleteAccountRequest"
      },
      "DeviceFingerprintData": {
        "properties": {
          "screen_resolution": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Screen Resolution"
          },
          "timezone_offset": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timezone Offset"
          },
          "color_depth": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color Depth"
          },
          "platform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          },
          "cookie_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cookie Enabled"
          },
          "canvas_fingerprint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Canvas Fingerprint"
          },
          "webgl_fingerprint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Webgl Fingerprint"
          },
          "touch_support": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Touch Support"
          },
          "hardware_concurrency": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hardware Concurrency"
          },
          "device_memory": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device Memory"
          }
        },
        "type": "object",
        "title": "DeviceFingerprintData"
      },
      "DrawInfo": {
        "properties": {
          "draw_date": {
            "type": "string",
            "title": "Draw Date"
          },
          "winning_numbers": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Winning Numbers"
          },
          "powerball": {
            "type": "integer",
            "title": "Powerball"
          },
          "prize_amount": {
            "type": "number",
            "title": "Prize Amount"
          }
        },
        "type": "object",
        "required": [
          "draw_date",
          "winning_numbers",
          "powerball",
          "prize_amount"
        ],
        "title": "DrawInfo"
      },
      "GenerateRequest": {
        "properties": {
          "count": {
            "type": "integer",
            "maximum": 50.0,
            "minimum": 1.0,
            "title": "Count",
            "description": "Number of tickets to generate (1-50)",
            "default": 5
          },
          "strategies": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Strategies",
            "description": "Subset of strategies to use; default uses adaptive weights across all"
          },
          "draw_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Draw Date",
            "description": "Target draw date YYYY-MM-DD (required if persist=true; otherwise optional)"
          },
          "persist": {
            "type": "boolean",
            "title": "Persist",
            "description": "If true, save tickets to database under draw_date (or next drawing date if omitted)",
            "default": false
          }
        },
        "type": "object",
        "title": "GenerateRequest"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "LimitsCheckRequest": {
        "properties": {
          "device_info": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DeviceFingerprintData"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "title": "LimitsCheckRequest"
      },
      "LoginRequest": {
        "properties": {
          "login": {
            "type": "string",
            "title": "Login",
            "description": "Email or username"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "description": "Password"
          },
          "remember_me": {
            "type": "boolean",
            "title": "Remember Me",
            "description": "Keep user logged in (30 days)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "login",
          "password"
        ],
        "title": "LoginRequest",
        "example": {
          "login": "user@example.com",
          "password": "secure123",
          "remember_me": false
        }
      },
      "ManualPlay": {
        "properties": {
          "line": {
            "type": "integer",
            "title": "Line"
          },
          "main_numbers": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Main Numbers"
          },
          "powerball": {
            "type": "integer",
            "title": "Powerball"
          }
        },
        "type": "object",
        "required": [
          "line",
          "main_numbers",
          "powerball"
        ],
        "title": "ManualPlay"
      },
      "ManualVerificationRequest": {
        "properties": {
          "plays": {
            "items": {
              "$ref": "#/components/schemas/ManualPlay"
            },
            "type": "array",
            "title": "Plays"
          },
          "draw_date": {
            "type": "string",
            "title": "Draw Date"
          }
        },
        "type": "object",
        "required": [
          "plays",
          "draw_date"
        ],
        "title": "ManualVerificationRequest"
      },
      "PlpManualPlay": {
        "properties": {
          "line": {
            "type": "integer",
            "title": "Line"
          },
          "numbers": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Numbers"
          },
          "powerball": {
            "type": "integer",
            "title": "Powerball"
          }
        },
        "type": "object",
        "required": [
          "line",
          "numbers",
          "powerball"
        ],
        "title": "PlpManualPlay"
      },
      "PlpManualVerifyRequest": {
        "properties": {
          "draw_date": {
            "type": "string",
            "title": "Draw Date"
          },
          "plays": {
            "items": {
              "$ref": "#/components/schemas/PlpManualPlay"
            },
            "type": "array",
            "title": "Plays"
          }
        },
        "type": "object",
        "required": [
          "draw_date",
          "plays"
        ],
        "title": "PlpManualVerifyRequest"
      },
      "Prediction": {
        "properties": {
          "draw_date": {
            "type": "string",
            "title": "Draw Date"
          },
          "numbers_predicted": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Numbers Predicted",
            "description": "The numbers predicted."
          },
          "powerball_predicted": {
            "type": "integer",
            "title": "Powerball Predicted",
            "description": "The predicted Powerball number."
          },
          "matches": {
            "type": "integer",
            "title": "Matches",
            "description": "Number of matched numbers."
          },
          "powerball_match": {
            "type": "boolean",
            "title": "Powerball Match",
            "description": "True if Powerball matched."
          },
          "prize_amount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prize Amount",
            "description": "Prize amount for this prediction."
          },
          "ticket_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ticket Id",
            "description": "Unique identifier for the ticket."
          }
        },
        "type": "object",
        "required": [
          "draw_date",
          "numbers_predicted",
          "powerball_predicted",
          "matches",
          "powerball_match"
        ],
        "title": "Prediction"
      },
      "PredictionResponse": {
        "properties": {
          "draw_date": {
            "type": "string",
            "title": "Draw Date"
          },
          "requested_date": {
            "type": "string",
            "title": "Requested Date"
          },
          "min_matches": {
            "type": "integer",
            "title": "Min Matches"
          },
          "predictions": {
            "items": {
              "$ref": "#/components/schemas/Prediction"
            },
            "type": "array",
            "title": "Predictions"
          },
          "total_predictions": {
            "type": "integer",
            "title": "Total Predictions"
          },
          "winning_numbers": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Winning Numbers",
            "description": "The actual winning numbers for the draw."
          },
          "total_prizes": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Prizes",
            "description": "Total prize money awarded for the draw."
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Informational message about the response."
          },
          "draw_info": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Draw Info",
            "description": "Additional information about the draw."
          }
        },
        "type": "object",
        "required": [
          "draw_date",
          "requested_date",
          "min_matches",
          "predictions",
          "total_predictions"
        ],
        "title": "PredictionResponse"
      },
      "RecentDrawsResponse": {
        "properties": {
          "draw_date": {
            "type": "string",
            "title": "Draw Date"
          },
          "winning_numbers": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Winning Numbers"
          },
          "powerball": {
            "type": "integer",
            "title": "Powerball"
          }
        },
        "type": "object",
        "required": [
          "draw_date",
          "winning_numbers",
          "powerball"
        ],
        "title": "RecentDrawsResponse"
      },
      "RegisterAndUpgradeRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          },
          "username": {
            "type": "string",
            "maxLength": 20,
            "minLength": 3,
            "title": "Username",
            "description": "Unique username"
          },
          "password": {
            "type": "string",
            "minLength": 6,
            "title": "Password",
            "description": "Password (minimum 6 characters)"
          },
          "success_url": {
            "type": "string",
            "title": "Success Url",
            "description": "URL to redirect after successful payment"
          },
          "cancel_url": {
            "type": "string",
            "title": "Cancel Url",
            "description": "URL to redirect if payment cancelled"
          }
        },
        "type": "object",
        "required": [
          "email",
          "username",
          "password",
          "success_url",
          "cancel_url"
        ],
        "title": "RegisterAndUpgradeRequest",
        "example": {
          "cancel_url": "https://shiol.app/",
          "email": "user@example.com",
          "password": "secure123",
          "success_url": "https://shiol.app/payment-success",
          "username": "john_doe"
        }
      },
      "RegisterRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          },
          "username": {
            "type": "string",
            "maxLength": 20,
            "minLength": 3,
            "title": "Username",
            "description": "Unique username"
          },
          "password": {
            "type": "string",
            "minLength": 6,
            "title": "Password",
            "description": "Password (minimum 6 characters)"
          }
        },
        "type": "object",
        "required": [
          "email",
          "username",
          "password"
        ],
        "title": "RegisterRequest",
        "example": {
          "email": "user@example.com",
          "password": "secure123",
          "username": "john_doe"
        }
      },
      "StatsResponse": {
        "properties": {
          "total_users": {
            "type": "integer",
            "title": "Total Users"
          },
          "premium_users": {
            "type": "integer",
            "title": "Premium Users"
          },
          "free_users": {
            "type": "integer",
            "title": "Free Users"
          },
          "new_users_30d": {
            "type": "integer",
            "title": "New Users 30D"
          }
        },
        "type": "object",
        "required": [
          "total_users",
          "premium_users",
          "free_users",
          "new_users_30d"
        ],
        "title": "StatsResponse"
      },
      "UpdateEmailRequest": {
        "properties": {
          "new_email": {
            "type": "string",
            "format": "email",
            "title": "New Email",
            "description": "New email address"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "description": "Password confirmation"
          }
        },
        "type": "object",
        "required": [
          "new_email",
          "password"
        ],
        "title": "UpdateEmailRequest"
      },
      "UserResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "is_premium": {
            "type": "boolean",
            "title": "Is Premium"
          },
          "is_admin": {
            "type": "boolean",
            "title": "Is Admin",
            "default": false
          },
          "premium_expires_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Premium Expires At"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "login_count": {
            "type": "integer",
            "title": "Login Count"
          },
          "plan_tier": {
            "type": "string",
            "title": "Plan Tier"
          },
          "insights_remaining": {
            "type": "integer",
            "title": "Insights Remaining"
          },
          "insights_total": {
            "type": "integer",
            "title": "Insights Total"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "username",
          "is_premium",
          "created_at",
          "login_count",
          "plan_tier",
          "insights_remaining",
          "insights_total"
        ],
        "title": "UserResponse"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}